(window.webpackJsonp=window.webpackJsonp||[]).push([[125],{198:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return c})),n.d(t,"toc",(function(){return s})),n.d(t,"default",(function(){return d}));var a=n(3),r=n(7),i=(n(0),n(216)),o={title:"Multi-User Tidal",id:"multiuser-tidal"},c={unversionedId:"configuration/multiuser-tidal",id:"configuration/multiuser-tidal",isDocsHomePage:!1,title:"Multi-User Tidal",description:"-----",source:"@site/docs/configuration/Multi-User Tidal.md",slug:"/configuration/multiuser-tidal",permalink:"/docs/configuration/multiuser-tidal",editUrl:"https://github.com/tidalcycles/tidal-doc/tree/main/docs/configuration/Multi-User Tidal.md",version:"current",lastUpdatedBy:"Raphael Forment",lastUpdatedAt:1621614610,sidebar:"docs",previous:{title:"Sublime Text",permalink:"/docs/getting-started/editor/Sublime_Text"},next:{title:"The Boot File",permalink:"/docs/configuration/boot-tidal"}},s=[{value:"Shared Editors",id:"shared-editors",children:[{value:"Troop",id:"troop",children:[]},{value:"Extramuros",id:"extramuros",children:[]},{value:"Estuary",id:"estuary",children:[]}]},{value:"Network tempo sharing",id:"network-tempo-sharing",children:[{value:"1) Sync computer clocks",id:"1-sync-computer-clocks",children:[]},{value:"2) Start Tidal on your computer",id:"2-start-tidal-on-your-computer",children:[]},{value:"3) Sync the other computers to the clock server",id:"3-sync-the-other-computers-to-the-clock-server",children:[]},{value:"4) Setting CPS",id:"4-setting-cps",children:[]},{value:"5) adjust latency",id:"5-adjust-latency",children:[]}]},{value:"ESPGrid tempo sharing",id:"espgrid-tempo-sharing",children:[{value:"1) Start EspGrid/espgridd",id:"1-start-espgridespgridd",children:[]},{value:"2) Start Tidal and SuperDirt",id:"2-start-tidal-and-superdirt",children:[]},{value:"3) Sync with EspGrid",id:"3-sync-with-espgrid",children:[]},{value:"4) Change the tempo",id:"4-change-the-tempo",children:[]}]},{value:"Link Protocol Synchronization",id:"link-protocol-synchronization",children:[{value:"CPS and BPM",id:"cps-and-bpm",children:[]},{value:"Understanding the Link command",id:"understanding-the-link-command",children:[]}]}],l={toc:s};function d(e){var t=e.components,o=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(a.a)({},l,o,{components:t,mdxType:"MDXLayout"}),Object(i.b)("hr",null),Object(i.b)("p",null,"There are different ways to use Tidal with your friends."),Object(i.b)("h2",{id:"shared-editors"},"Shared Editors"),Object(i.b)("h3",{id:"troop"},"Troop"),Object(i.b)("p",null,Object(i.b)("img",{alt:"troop",src:n(316).default})),Object(i.b)("p",null,Object(i.b)("a",{parentName:"p",href:"https://github.com/Qirky/Troop"},"Troop")," is described by it author, Ryan Kirkbride (",Object(i.b)("inlineCode",{parentName:"p"},"Qirky"),"), as ",Object(i.b)("em",{parentName:"p"},'"a real-time collaborative tool that enables group live coding within the same document across multiple computers."')," Troop is a preconfigured text editor for collaborative live-coding on a network. Troop is written in ",Object(i.b)("a",{parentName:"p",href:"https://www.python.org/"},"Python 3"),". You will need to install Python and ",Object(i.b)("inlineCode",{parentName:"p"},"tkinter")," for your specific OS/distribution. Linux users might need to install a few more dependencies, but it should be straightforward."),Object(i.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(i.b)("div",{parentName:"div",className:"admonition-heading"},Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",{parentName:"h5",className:"admonition-icon"},Object(i.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},Object(i.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),Object(i.b)("div",{parentName:"div",className:"admonition-content"},Object(i.b)("p",{parentName:"div"},"Note that you will also need to install ",Object(i.b)("strong",{parentName:"p"},"SuperCollider")," and ",Object(i.b)("strong",{parentName:"p"},"Tidal Cycles")," to use ",Object(i.b)("strong",{parentName:"p"},"Troop")," on your computer. "))),Object(i.b)("p",null,"For the installation / configuration process, please report to the README on the ",Object(i.b)("a",{parentName:"p",href:"https://github.com/Qirky/Troop"},"GitHub repository"),"."),Object(i.b)("h3",{id:"extramuros"},"Extramuros"),Object(i.b)("p",null,Object(i.b)("img",{parentName:"p",src:"https://iclc.toplap.org/2015/html/extramuros-screenshot.png",alt:"extramuros"})),Object(i.b)("p",null,Object(i.b)("a",{parentName:"p",href:"https://github.com/dktr0/extramuros"},"Extramuros"),", programmed by David Ogborn (",Object(i.b)("inlineCode",{parentName:"p"},"dktr0"),"), is an optimized collaborative environment for live coding. The text editor itself is embedded in a web browser. A server, receiving all the incoming code/data from the users, is connected to the interpreter. The editor can be divided in many zones, each one being an interpreter. Head to the ",Object(i.b)("a",{parentName:"p",href:"https://github.com/dktr0/extramuros"},"GitHub Repository")," page to learn more about the installation / configuration process."),Object(i.b)("h3",{id:"estuary"},"Estuary"),Object(i.b)("p",null,Object(i.b)("img",{alt:"estuary",src:n(317).default})),Object(i.b)("p",null,Object(i.b)("a",{parentName:"p",href:"https://github.com/dktr0/estuary"},"Estuary"),", also programmed by David Ogborn(",Object(i.b)("inlineCode",{parentName:"p"},"dktr0"),") is a collaborative live coding environment with some components taken and extended from ",Object(i.b)("a",{parentName:"p",href:"###Extramuros"},"Extramuros"),". Estuary is embedding ",Object(i.b)("inlineCode",{parentName:"p"},"minitidal"),", a subset of Tidal Cycles that works directly (including sound!) in your web browser. No installation is required."),Object(i.b)("p",null,Object(i.b)("a",{parentName:"p",href:"https://www.google.com/chrome/"},"Chrome")," or ",Object(i.b)("a",{parentName:"p",href:"https://www.chromium.org/"},"Chromium")," is ",Object(i.b)("strong",{parentName:"p"},"highly recommended")," for a better user experience."),Object(i.b)("h4",{id:"estuary-online"},"Estuary online"),Object(i.b)("p",null,"There is a ",Object(i.b)("a",{parentName:"p",href:"https://estuary.mcmaster.ca"},"server")," running 24/7 on the McMaster University servers, on a server belonging to the research group behind the project. It means that you can try ",Object(i.b)("strong",{parentName:"p"},"Tidal Cycles")," online with your friends without having to install anything!"),Object(i.b)("h2",{id:"network-tempo-sharing"},"Network tempo sharing"),Object(i.b)("p",null,'Network tempo sharing is one way of synchronizing Tidal to other instances running on different computers. This approach is more complex and "hands-on" than the ones described above. They might be better suited to more advanced / technically skilled users. '),Object(i.b)("h3",{id:"1-sync-computer-clocks"},"1) Sync computer clocks"),Object(i.b)("p",null,"Ensure that the system clocks of all the computers are already in sync. This can be done by making sure the computers are ",Object(i.b)("em",{parentName:"p"},"syncing with a network clock via system settings"),", but this isn't ideal. Under the hood that uses ",Object(i.b)("inlineCode",{parentName:"p"},"ntpd"),", which is designed for slowly bringing computers into synchrony over the internet, not for quickly getting computers in sync locally. "),Object(i.b)("p",null,"Instead, using ",Object(i.b)("a",{parentName:"p",href:"https://github.com/ptpd/ptpd"},"ptpd")," is recommended. "),Object(i.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(i.b)("div",{parentName:"div",className:"admonition-heading"},Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",{parentName:"h5",className:"admonition-icon"},Object(i.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},Object(i.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),Object(i.b)("div",{parentName:"div",className:"admonition-content"},Object(i.b)("p",{parentName:"div"},Object(i.b)("a",{parentName:"p",href:"https://github.com/ptpd/ptpd"},"ptpd")," is available for Linux and MacOS only."))),Object(i.b)("h3",{id:"2-start-tidal-on-your-computer"},"2) Start Tidal on your computer"),Object(i.b)("p",null,"Nominate ",Object(i.b)("strong",{parentName:"p"},"one")," computer as the ",Object(i.b)("inlineCode",{parentName:"p"},"clock server")," and start Tidal there. You will need to know the network address of this computer on the local network. You should be able to find this in your system settings. "),Object(i.b)("h3",{id:"3-sync-the-other-computers-to-the-clock-server"},"3) Sync the other computers to the clock server"),Object(i.b)("p",null,"Change your Tidal Boot configuration on the other computers to set the ",Object(i.b)("inlineCode",{parentName:"p"},"cTempoAddr")," option to the IP address of the clock server. For example, if the clock server had the IP address ",Object(i.b)("inlineCode",{parentName:"p"},"'192.168.0.10'"),", your ",Object(i.b)("inlineCode",{parentName:"p"},"startTidal")," line would look something like this: "),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-haskell"},'tidal <- startTidal (superdirtTarget {oLatency = 0.02}) (defaultConfig {cFrameTimespan = 1/20, cTempoAddr = "192.168.0.10"})\n')),Object(i.b)("h3",{id:"4-setting-cps"},"4) Setting CPS"),Object(i.b)("p",null,"Use ",Object(i.b)("inlineCode",{parentName:"p"},"setcps")," on one of the computers to get all the computers in sync (g.g. ",Object(i.b)("inlineCode",{parentName:"p"},"setcps 1.1"),"). "),Object(i.b)("h3",{id:"5-adjust-latency"},"5) adjust latency"),Object(i.b)("p",null,"You will probably find that your computers are still 'out of phase': running at the same cps, but with an offset. Set the cps low (e.g. ",Object(i.b)("inlineCode",{parentName:"p"},"setcps 0.25"),"), run a simple pattern on the clock server (",Object(i.b)("inlineCode",{parentName:"p"},'d1 $ s "cp"'),") and one of the other computers, and use nudge to find the offset (",Object(i.b)("inlineCode",{parentName:"p"},'d1 $ s "cp" # nudge 0.05'),")."),Object(i.b)("p",null,"Once you know the right offset you can make it permanent by adding it to the ",Object(i.b)("inlineCode",{parentName:"p"},"oLatency")," value in your configuration. As long as you use the same audio device and so on, you shouldn't have to adjust it again."),Object(i.b)("p",null,"If you find you have to nudge backwards (e.g. ",Object(i.b)("inlineCode",{parentName:"p"},'d1 $ s "cp" # nudge (-0.05)'),") this will only work up to a certain point. It's better to add latency to the clock server in that case. "),Object(i.b)("h2",{id:"espgrid-tempo-sharing"},"ESPGrid tempo sharing"),Object(i.b)("p",null,"EspGrid is a language-neutral, separate piece of open source software for sharing tempo and other things in electronic ensembles. The software is available on ",Object(i.b)("a",{parentName:"p",href:"https://dktr0.github.io/EspGrid/install.html"},"dktr0's website"),". It is made so that changing the tempo on one instance will change the tempo on all the instances. Every change is reflected everywhere."),Object(i.b)("h3",{id:"1-start-espgridespgridd"},"1) Start EspGrid/espgridd"),Object(i.b)("p",null,"Detailled instructions for installing, starting and configuring EspGrid/espgridd are available at the link mentionned above."),Object(i.b)("h3",{id:"2-start-tidal-and-superdirt"},"2) Start Tidal and SuperDirt"),Object(i.b)("p",null,"Start Tidal the usual way. "),Object(i.b)("h3",{id:"3-sync-with-espgrid"},"3) Sync with EspGrid"),Object(i.b)("p",null,"Just evaluate ",Object(i.b)("inlineCode",{parentName:"p"},"espgrid tidal")," in your editor session."),Object(i.b)("h3",{id:"4-change-the-tempo"},"4) Change the tempo"),Object(i.b)("p",null,"You can change the tempo for everyone synced to EspGrid with ",Object(i.b)("inlineCode",{parentName:"p"},"cpsEsp 0.5"),", ",Object(i.b)("inlineCode",{parentName:"p"},"cpsEsp 0.75"),", etc. If others change the tempo (including via the OSX GUI ",Object(i.b)("strong",{parentName:"p"},"EspGrid")," app, SuperCollider quarks, etc) your tempo should change as well. "),Object(i.b)("h2",{id:"link-protocol-synchronization"},"Link Protocol Synchronization"),Object(i.b)("p",null,Object(i.b)("a",{parentName:"p",href:"https://www.ableton.com/en/link/"},"Link")," is a protocol developed by Ableton for synchronizing musical gear, software or hardware. Link will synchronize all the devices found on a local network together. Timing and tempo will be shared by all clients. Even though Link originally appeared for Ableton, there are independant open-source clients you can use to synchronize using this protocol."),Object(i.b)("p",null,"This requires Tidal version 1.0.11 or later. It is experimental, so the interface will change in future releases of Tidal, with additional functionality. For now though, it seems to work well."),Object(i.b)("p",null,"To synchronise with the Link protocol, follow the following steps:"),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},"Download and run Carabiner, which acts as a bridge between the Link protocol and software like Tidal. You can get downloads for Windows and MacOS here. Linux users can fin d instructions for compiling here."),Object(i.b)("li",{parentName:"ol"},"Have another link-compatible app to hand that you want to sync to. "),Object(i.b)("li",{parentName:"ol"},"Start Tidal in your editor, and run the following to connect to carabiner:")),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-haskell"},"sock <- carabiner tidal 4 (-0.14)\n")),Object(i.b)("ol",{start:4},Object(i.b)("li",{parentName:"ol"},"Run a Tidal pattern (e.g. ",Object(i.b)("inlineCode",{parentName:"li"},'d1 $\xa0(sound "cp bd bd bd")'),"), change the BPM in another link-compatible application and see if it works.")),Object(i.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(i.b)("div",{parentName:"div",className:"admonition-heading"},Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",{parentName:"h5",className:"admonition-icon"},Object(i.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},Object(i.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),Object(i.b)("div",{parentName:"div",className:"admonition-content"},Object(i.b)("p",{parentName:"div"},"To change the BPM from tidal, you currently have to run e.g. ",Object(i.b)("inlineCode",{parentName:"p"},'sendMsg sock "bpm 155"')))),Object(i.b)("h3",{id:"cps-and-bpm"},"CPS and BPM"),Object(i.b)("p",null,"You can't adjust ",Object(i.b)("inlineCode",{parentName:"p"},"cps")," in Tidal and have that change BPM in the link network yet - this will be fixed up soon. You can tweak the startup command:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-haskell"},"sock <- carabiner tidal 4 (-0.14)\n")),Object(i.b)("p",null,"You can't adjust cps in Tidal and have that change bpm in the link network yet - this will be fixed up soon."),Object(i.b)("h3",{id:"understanding-the-link-command"},"Understanding the Link command"),Object(i.b)("p",null,"Let's get a closer look at this cryptic line of code:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-haskell"},"sock <- carabiner tidal 4 (-0.14)\n")),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"4"),": the number of beats per cycle. Used to convert between link's beat-per-minute and Tidal's cycles-per-second. You might prefer 2 (or 3 if you're doing a waltz)."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"-0.14"),": latency time adjustment to get Tidal in phase. You might need to tweak it, to get it bang on.")),Object(i.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(i.b)("div",{parentName:"div",className:"admonition-heading"},Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",{parentName:"h5",className:"admonition-icon"},Object(i.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},Object(i.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),Object(i.b)("div",{parentName:"div",className:"admonition-content"},Object(i.b)("p",{parentName:"div"},"You have to restart Tidal everytime you adjust these numbers. You can do that by restarting your text editor. This will be more easily configured in the future. "))),Object(i.b)("p",null,"Report your good or bad experiences ",Object(i.b)("a",{parentName:"p",href:"https://toplap.lurk.org/t/link-support-preview/418"},"here"),"."))}d.isMDXComponent=!0},216:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h}));var a=n(0),r=n.n(a);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=r.a.createContext({}),d=function(e){var t=r.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},p=function(e){var t=d(e.components);return r.a.createElement(l.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},u=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,o=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),p=d(n),u=a,h=p["".concat(o,".").concat(u)]||p[u]||b[u]||i;return n?r.a.createElement(h,c(c({ref:t},l),{},{components:n})):r.a.createElement(h,c({ref:t},l))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=u;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:a,o[1]=c;for(var l=2;l<i;l++)o[l]=n[l];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},316:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/troop-e731daa1b6db39bc2354ef215a554c1e.png"},317:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/estuary-f58bc1c68e0160f72700fd2e507b7f90.png"}}]);