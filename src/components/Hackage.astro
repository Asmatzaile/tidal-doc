---
import { Markup } from 'astro-remote';
import StarlightPage from '@astrojs/starlight/components/StarlightPage.astro';
import * as cheerio from 'cheerio';

const { title, url } = Astro.props;

const html = await fetch(url).then(res => res.text());

const $ = cheerio.load(html);

const parsed = $('div[id="interface"]').html();
---

<StarlightPage frontmatter={ { title } }>
  <Markup
    content={ parsed } 
    components={{
    }}
    sanitize={{ 
      dropElements: ["head","style", "meta", "link", "title"], // remove along with children
      blockElements: ["html", "body"], // remove but keep children
    }}
  />
</StarlightPage>
