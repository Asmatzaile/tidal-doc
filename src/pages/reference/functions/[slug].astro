---
import Hackage from '@components/Hackage.astro';

export function getStaticPaths() {

  const mkUrl = (slug: String) =>
    `https://hackage.haskell.org/package/tidal-1.9.4/docs/Sound-Tidal-${slug}.html`;
  
  const pages = [
    'Bjorklund',
    'Chords',
    'Config',
    'Context',
    'Control',
    'Core',
    'ID',
    'Params',
    'ParseBP',
    'Pattern',
    'Safe.Boot',
    'Safe.Context',
    'Scales',
    'Show',
    'Simple',
    'Stream',
    'StreamTypes',
    'Tempo',
    'Time',
    'Transition',
    'UI',
    'Utils',
    'Version',
  ];

  return pages.map( title => {
    const dashTitle = title.replace('.', '-');
    return {
      params: { slug: dashTitle.toLowerCase() },
      props: { title, url: mkUrl(dashTitle) },
    }
  });
}

const { title, url } = Astro.props;
---

<Hackage url={ url } title={ title } />
